import{u as p,g as o,b as e,a as i,d as l,i as x,w as f,f as _,e as b,F as h,m as y,o as r,t as d}from"./app-DvpENZoE.js";import{_ as g}from"./InputLabel-DaaaFQYz.js";import{_ as v}from"./TextInput-CW3PhMDC.js";import{_ as k}from"./InputError-BHuzG5pp.js";import{P as S}from"./PrimaryButton-Dei7PzcQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const w={class:"km-card p-6 sm:p-8 space-y-6"},C={class:"flex items-center gap-3"},V={key:0,class:"text-xs text-emerald-300"},q={class:"border-t border-slate-800/80 pt-5"},B={key:0,class:"mt-2 text-sm text-slate-400"},N={key:1,class:"mt-3 space-y-2"},P={class:"text-slate-100"},U={class:"text-xs text-slate-400"},$=["onClick"],L={__name:"KitchenSharing",props:{sharedUsers:{type:Array,default:()=>[]}},setup(n){const s=p({email:""}),m=()=>{s.post(route("kitchen.share.store"),{preserveScroll:!0,onSuccess:()=>s.reset("email")})},u=c=>{confirm("¿Seguro que quieres quitar el acceso a esta persona?")&&s.delete(route("kitchen.share.destroy",c),{preserveScroll:!0})};return(c,t)=>(r(),o("section",w,[t[3]||(t[3]=e("header",null,[e("h2",{class:"text-xl font-semibold text-slate-50"}," Compartir tu cocina "),e("p",{class:"mt-1 text-sm text-slate-400"}," Invita a otra persona para que pueda ver y modificar tu stock desde su propia cuenta. Puedes revocar el acceso cuando quieras. ")],-1)),e("form",{onSubmit:b(m,["prevent"]),class:"space-y-4 max-w-xl"},[e("div",null,[i(g,{for:"share_email",value:"Correo electrónico del usuario",class:"text-slate-200"}),i(v,{id:"share_email",modelValue:l(s).email,"onUpdate:modelValue":t[0]||(t[0]=a=>l(s).email=a),type:"email",placeholder:"ej: usuario@example.com",class:"mt-1 block w-full rounded-xl border border-slate-700 bg-slate-950/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,8,["modelValue"]),i(k,{message:l(s).errors.email,class:"mt-2"},null,8,["message"])]),e("div",C,[i(S,{disabled:l(s).processing},{default:f(()=>[...t[1]||(t[1]=[_(" Compartir cocina ",-1)])]),_:1},8,["disabled"]),l(s).recentlySuccessful?(r(),o("p",V," Invitación guardada. ")):x("",!0)])],32),e("div",q,[t[2]||(t[2]=e("h3",{class:"text-sm font-semibold text-slate-200"}," Personas con acceso ",-1)),n.sharedUsers.length?(r(),o("ul",N,[(r(!0),o(h,null,y(n.sharedUsers,a=>(r(),o("li",{key:a.id,class:"flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm"},[e("div",null,[e("p",P,d(a.user.name),1),e("p",U,d(a.user.email),1)]),e("button",{type:"button",class:"text-xs rounded-lg border border-rose-500/70 px-3 py-1 text-rose-200 hover:bg-rose-500/15",onClick:F=>u(a.id)}," Quitar acceso ",8,$)]))),128))])):(r(),o("p",B," De momento nadie más tiene acceso a tu cocina. "))])]))}};export{L as default};
