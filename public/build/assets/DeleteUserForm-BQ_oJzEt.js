import{g as v,r as g,o as x,y as w,B as $,C as E,D as S,j as B,b as c,a as r,w as i,k as b,E as _,T as h,n as C,i as D,u as U,f as y,d as p,A as V,G as T}from"./app-DgjmkXFC.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as M}from"./InputLabel-C4ahWGpn.js";import{_ as N}from"./TextInput-BzrRTEMT.js";import{_ as F}from"./InputError-leB_bNdK.js";const I={},W={class:"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700"};function q(n,l){return x(),v("button",W,[g(n.$slots,"default")])}const k=z(I,[["render",q]]),K=["type"],L={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(n){return(l,s)=>(x(),v("button",{type:n.type,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25"},[g(l.$slots,"default")],8,K))}},j={class:"fixed inset-0 z-50 overflow-y-auto px-4 py-6 sm:px-0","scroll-region":""},A={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(n,{emit:l}){const s=n,t=l,m=w(),d=w(s.show);$(()=>s.show,()=>{var a;s.show?(document.body.style.overflow="hidden",d.value=!0,(a=m.value)==null||a.showModal()):(document.body.style.overflow="",setTimeout(()=>{var f;(f=m.value)==null||f.close(),d.value=!1},200))});const u=()=>{s.closeable&&t("close")},o=a=>{a.key==="Escape"&&(a.preventDefault(),s.show&&u())};E(()=>document.addEventListener("keydown",o)),S(()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""});const e=B(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[s.maxWidth]);return(a,f)=>(x(),v("dialog",{class:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-transparent",ref_key:"dialog",ref:m},[c("div",j,[r(h,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[b(c("div",{class:"fixed inset-0 transform transition-all",onClick:u},[...f[0]||(f[0]=[c("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)])],512),[[_,n.show]])]),_:1}),r(h,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[b(c("div",{class:C(["mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full",e.value])},[d.value?g(a.$slots,"default",{key:0}):D("",!0)],2),[[_,n.show]])]),_:3})])],512))}},G={class:"space-y-4 max-w-xl"},O={class:"mt-4"},X={__name:"DeleteUserForm",setup(n){const l=w(!1),s=w(null),t=U({password:""}),m=()=>{l.value=!0,T(()=>{var o;(o=s.value)==null||o.focus()})},d=()=>{t.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>u(),onError:()=>{var o;(o=s.value)==null||o.focus()},onFinish:()=>t.reset()})},u=()=>{l.value=!1,t.reset()};return(o,e)=>(x(),v("div",G,[c("div",null,[r(k,{onClick:m},{default:i(()=>[...e[1]||(e[1]=[y(" Eliminar cuenta ",-1)])]),_:1})]),r(A,{show:l.value,onClose:u},{title:i(()=>[...e[2]||(e[2]=[y(" Eliminar cuenta ",-1)])]),content:i(()=>[e[3]||(e[3]=c("p",{class:"text-sm text-slate-300"}," ¿Seguro que quieres eliminar tu cuenta? Una vez eliminada, todos tus datos serán borrados de forma permanente. ",-1)),c("div",O,[r(M,{for:"password",value:"Contraseña",class:"text-slate-200"}),r(N,{id:"password",ref_key:"passwordInput",ref:s,modelValue:p(t).password,"onUpdate:modelValue":e[0]||(e[0]=a=>p(t).password=a),type:"password",autocomplete:"current-password",class:"mt-1 block w-full rounded-xl border border-slate-700 bg-slate-950/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 shadow-sm focus:border-rose-500 focus:outline-none focus:ring-1 focus:ring-rose-500",placeholder:"Introduce tu contraseña para confirmar",onKeyup:V(d,["enter"])},null,8,["modelValue"]),r(F,{message:p(t).errors.password,class:"mt-2"},null,8,["message"])])]),footer:i(()=>[r(L,{onClick:u},{default:i(()=>[...e[4]||(e[4]=[y(" Cancelar ",-1)])]),_:1}),r(k,{class:C(["ml-2",{"opacity-25":p(t).processing}]),disabled:p(t).processing,onClick:d},{default:i(()=>[...e[5]||(e[5]=[y(" Eliminar cuenta ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{X as default};
