import{j as f,u as T,c as B,w as q,a as d,b as e,d as o,h as F,t as u,l as L,f as U,e as C,k as i,q as c,g as x,o as m,F as V,m as j,y as z}from"./app-CKQjLVAm.js";import{_ as D}from"./AuthenticatedLayout-CoXItKcg.js";import{_ as n}from"./InputError-B0hAkIw4.js";import"./ApplicationLogo-ZfA0f0yb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"py-10"},O={class:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 space-y-6"},I={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},P={class:"text-2xl font-semibold text-slate-50"},$={class:"mx-auto max-w-4xl rounded-2xl border border-slate-200 bg-white/95 p-6 shadow-xl shadow-slate-900/20 text-slate-900"},A={class:"space-y-1"},G={class:"grid gap-6 md:grid-cols-2"},H={class:"space-y-1"},J={class:"space-y-1"},K=["value"],Q={class:"grid gap-6 md:grid-cols-2"},R={class:"space-y-1"},W={class:"space-y-1"},X=["value"],Y={class:"space-y-1"},Z={class:"pt-4 flex justify-end"},ee=["disabled"],de={__name:"Form",props:{product:{type:Object,default:null},locations:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},setup(b){var _,y,v,w,k,h;const l=b,N=["unidad","ud","L","ml","kg","g","pack","caja","bolsa","bote"],p=f(()=>{var r;return l.mode==="edit"||!!((r=l.product)!=null&&r.id)}),s=T({name:((_=l.product)==null?void 0:_.name)??"",default_quantity:((y=l.product)==null?void 0:y.default_quantity)??"",default_unit:((v=l.product)==null?void 0:v.default_unit)??"",default_pack_size:((w=l.product)==null?void 0:w.default_pack_size)??"",location_id:((k=l.product)==null?void 0:k.location_id)??"",notes:((h=l.product)==null?void 0:h.notes)??""}),g=f(()=>p.value?"Editar producto":"Nuevo producto"),S=f(()=>p.value?"Guardar cambios":"Crear producto"),E=()=>{p.value?s.put(route("products.update",l.product.id)):s.post(route("products.store"))};return(r,t)=>(m(),B(D,null,{default:q(()=>[d(o(F),{title:g.value},null,8,["title"]),e("div",M,[e("div",O,[e("div",I,[e("div",null,[e("h1",P,u(g.value),1),t[6]||(t[6]=e("p",{class:"mt-1 text-sm text-slate-400"}," Define un producto que utilizas en tu cocina: nombre, cantidad base, unidad y ubicación habitual. ",-1))]),d(o(L),{href:r.route("products.index"),class:"text-sm text-slate-300 hover:text-slate-100"},{default:q(()=>[...t[7]||(t[7]=[U(" Volver al listado ",-1)])]),_:1},8,["href"])]),e("div",$,[e("form",{class:"space-y-6",onSubmit:C(E,["prevent"])},[e("div",A,[t[8]||(t[8]=e("label",{for:"name",class:"block text-sm font-medium text-slate-800"}," Nombre * ",-1)),i(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>o(s).name=a),type:"text",required:"",class:"block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder-slate-400 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40 focus:outline-none",placeholder:"Leche entera, Pasta, Tomate frito..."},null,512),[[c,o(s).name]]),d(n,{class:"mt-1 text-xs text-rose-600",message:o(s).errors.name},null,8,["message"])]),e("div",G,[e("div",H,[t[9]||(t[9]=e("label",{for:"default_quantity",class:"block text-sm font-medium text-slate-800"}," Cantidad base ",-1)),i(e("input",{id:"default_quantity","onUpdate:modelValue":t[1]||(t[1]=a=>o(s).default_quantity=a),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder-slate-400 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40 focus:outline-none",placeholder:"1, 0.5, 3..."},null,512),[[c,o(s).default_quantity]]),d(n,{class:"mt-1 text-xs text-rose-600",message:o(s).errors.default_quantity},null,8,["message"])]),e("div",J,[t[11]||(t[11]=e("label",{for:"default_unit",class:"block text-sm font-medium text-slate-800"}," Unidad ",-1)),i(e("select",{id:"default_unit","onUpdate:modelValue":t[2]||(t[2]=a=>o(s).default_unit=a),class:"block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40 focus:outline-none"},[t[10]||(t[10]=e("option",{value:""}," Selecciona una unidad ",-1)),(m(),x(V,null,j(N,a=>e("option",{key:a,value:a},u(a),9,K)),64))],512),[[z,o(s).default_unit]]),d(n,{class:"mt-1 text-xs text-rose-600",message:o(s).errors.default_unit},null,8,["message"])])]),e("div",Q,[e("div",R,[t[12]||(t[12]=e("label",{for:"default_pack_size",class:"block text-sm font-medium text-slate-800"},[U(" Tamaño de pack "),e("span",{class:"text-xs text-slate-500"}," (opcional) ")],-1)),i(e("input",{id:"default_pack_size","onUpdate:modelValue":t[3]||(t[3]=a=>o(s).default_pack_size=a),type:"text",class:"block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder-slate-400 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40 focus:outline-none",placeholder:"Ej: 6 (pack de 6)"},null,512),[[c,o(s).default_pack_size]]),d(n,{class:"mt-1 text-xs text-rose-600",message:o(s).errors.default_pack_size},null,8,["message"])]),e("div",W,[t[14]||(t[14]=e("label",{for:"location_id",class:"block text-sm font-medium text-slate-800"}," Ubicación habitual ",-1)),i(e("select",{id:"location_id","onUpdate:modelValue":t[4]||(t[4]=a=>o(s).location_id=a),class:"block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40 focus:outline-none"},[t[13]||(t[13]=e("option",{value:""}," Sin ubicación asignada ",-1)),(m(!0),x(V,null,j(b.locations,a=>(m(),x("option",{key:a.id,value:a.id},u(a.name),9,X))),128))],512),[[z,o(s).location_id]]),t[15]||(t[15]=e("p",{class:"mt-1 text-xs text-slate-500"}," Estas ubicaciones se gestionan en la sección “Ubicaciones”. ",-1)),d(n,{class:"mt-1 text-xs text-rose-600",message:o(s).errors.location_id},null,8,["message"])])]),e("div",Y,[t[16]||(t[16]=e("label",{for:"notes",class:"block text-sm font-medium text-slate-800"}," Notas (opcional) ",-1)),i(e("textarea",{id:"notes","onUpdate:modelValue":t[5]||(t[5]=a=>o(s).notes=a),rows:"3",class:"block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder-slate-400 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40 focus:outline-none",placeholder:"Ej: marca preferida, usar primero los paquetes abiertos..."},null,512),[[c,o(s).notes]]),d(n,{class:"mt-1 text-xs text-rose-600",message:o(s).errors.notes},null,8,["message"])]),e("div",Z,[e("button",{type:"submit",disabled:o(s).processing,class:"inline-flex items-center justify-center rounded-xl bg-indigo-500 px-5 py-2.5 text-sm font-semibold text-white shadow-sm shadow-indigo-500/40 hover:bg-indigo-600 disabled:opacity-60 disabled:cursor-wait"},u(S.value),9,ee)])],32)])])])]),_:1}))}};export{de as default};
